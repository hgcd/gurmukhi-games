{% extends "base.html" %}

{% block title %}Missing Akhar Spelling{% endblock %}

{% block content %}
<div class="container p-4 bg-main-light rounded-3">
	<!-- Start View -->
	<div id="start-view" class="text-center bg-main-light rounded-3 p-4">
		<h1 class="mb-4">Missing Akhar Spelling</h1>
		<p class="text-muted">Pick the missing Gurmukhi akhar to complete the word</p>

		<!-- Topic Selection -->
		<div class="mb-4">
			<label for="topic-select" class="form-label">
				<span class="eng-lang-text">Select Topic:</span>
				<span class="pa-lang-text">‡®µ‡®ø‡®∏‡®º‡®æ ‡®ö‡©Å‡®£‡©ã:</span>
			</label>
					<select id="topic-select" class="form-select border border-dark border-2 rounded-3" style="max-width: 300px; margin: 0 auto;">
			<option value="">Choose a topic...</option>
		</select>
		</div>

		<button class="btn-press bg-red-dark m-1" onclick="startRound()" id="start-button" disabled>
			<h2>Start</h2>
		</button>
	</div>

	<!-- Game View -->
	<div id="game-view" class="d-none">
		<!-- Header -->
		<div class="row">
			<div class="col-3">
				<h4 id="progress-text"></h4>
			</div>
			<div class="col-6">
				<!-- Progress bar -->
				<div class="progress mt-2 bg-dark" role="progressbar" aria-label="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
					<div id="progress-bar" class="progress-bar bg-info" style="width: 0%"></div>
				</div>
			</div>
			<div class="col-3 text-end">
				<h4>üíé <span id="score" class="text-blue-dark">0</span></h4>
			</div>
		</div>

		<br/><br/>

		<!-- Word With Missing Akhar -->
		<div id="question-section" class="text-center mb-4">
			<div class="d-flex justify-content-center mb-2">
				<button id="play-audio" type="button" class="btn-press bg-blue-light m-1" title="Play audio">
					<h2><i class="bi bi-volume-up-fill"></i></h2>
				</button>
			</div>
			<h1 id="question-word" class="text-blue-dark mb-2"></h1>
			<h4 id="question-english" class="text-muted"></h4>
		</div>

		<!-- Options Section -->
		<div id="options-section" class="text-center mb-4">
			<button id="akhar-option-1" class="btn-press bg-blue-dark h1 px-3 m-1"></button>
			<button id="akhar-option-2" class="btn-press bg-blue-dark h1 px-3 m-1"></button>
			<button id="akhar-option-3" class="btn-press bg-blue-dark h1 px-3 m-1"></button>
			<button id="akhar-option-4" class="btn-press bg-blue-dark h1 px-3 m-1"></button>
			<button id="akhar-option-5" class="btn-press bg-blue-dark h1 px-3 m-1"></button>
		</div>
	</div>

	<div class="text-center mt-4">
		<button class="btn-press bg-orange-dark d-none" onclick="nextRound()" id="next-button">
			<h2>Next ‚Üí</h2>
		</button>
	</div>

	<!-- End View -->
	<div id="end-view" class="text-center d-none">
		<h1 class="mb-4">‡®¨‡®π‡©Å‡®§ ‡®µ‡®ß‡©Ä‡®Ü!</h1>
		<br/>
		<h2 class="text-blue">üíé +<span id="final-score">0</span></h2>
		<br/>
		<button class="btn-press bg-blue-dark" onclick="initGame()">
			<h2>‡®´‡©á‡®∞ ‡®ñ‡©á‡®°‡®æ‡®Ç</h2>
		</button>
	</div>
</div>
{% endblock %}

{% block scripts %}
	<script src="{{ url_for('static', filename='js/data.js') }}"></script>
	<script src="{{ url_for('static', filename='js/gurmukhi_utils.js') }}"></script>
	<script src="{{ url_for('static', filename='js/animations.js') }}"></script>
	<script src="{{ url_for('static', filename='js/activities/missing_akhar_spelling.js') }}"></script>
{% endblock %}
